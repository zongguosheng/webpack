<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>评估预警平台 </title>
    <link rel="stylesheet" type="text/css" href="css/amazeui.min.css"/>
    <link rel="stylesheet" type="text/css" href="css/main.css"/>
    <link rel="stylesheet" type="text/css" href="css/zTreeStyle.css"/>
    <script type="text/javascript" src="js/jquery.min.js" ></script>
    <script type="text/javascript" src="js/jquery.ztree.core.js" ></script>
    <script type="text/javascript" src="js/jquery.ztree.excheck.js" ></script>
    <SCRIPT type="text/javascript">
		
		var setting = {
			view: {
				selectedMulti: false
			},
			check: {
				enable: true
			},
			data: {
				simpleData: {
					enable: true
				}
			},
			callback: {
                onCheck: onCheck,
                onCheckall: onCheckall
			}
		};

		var zNodes =[
			{ id:1, pId:0, name:"规划成果", open:true},
			    { id:11, pId:1, name:"总体规划",open:true },
			        { id:111, pId:11, name:"2001-2020年"},
                        { id:1111, pId:111, name:"随意勾选"},
                    { id:112, pId:11, name:"2001-2030年"},
                         { id:1112, pId:112, name:"随意勾选"},
			    { id:12, pId:1, name:"控制性详细规划规划", open:true},
			        { id:121, pId:12, name:"2010版", open:true},
		    	        { id:1211, pId:121, name:"规划界限"},
                        { id:1212, pId:121, name:"规划界限"},
                        { id:1213, pId:121, name:"规划界限"},
                        { id:1214, pId:121, name:"规划界限"},
                        { id:1215, pId:121, name:"规划界限"},
                    { id:131, pId:12, name:"专项规划"},
                        { id:132, pId:131, name:"规划界限"},

            { id:2, pId:0, name:"规划成果", open:true},
			{ id:21, pId:2, name:"总体规划",open:true },
			        { id:211, pId:21, name:"2001-2020年"},
                        { id:2111, pId:211, name:"随意勾选"},
                    { id:212, pId:21, name:"2001-2030年"},
                         { id:2121, pId:212, name:"随意勾选"},
			{ id:22, pId:2, name:"控制性详细规划规划", open:true},
			        { id:221, pId:22, name:"2010版", open:true},
		    	        { id:2211, pId:221, name:"规划界限"},
                        { id:2212, pId:221, name:"规划界限"},
                        { id:2213, pId:221, name:"规划界限"},
                        { id:2214, pId:221, name:"规划界限"},
                        { id:2215, pId:221, name:"规划界限"},
                    { id:222, pId:22, name:"专项规划"},
                        { id:2222, pId:222, name:"规划界限"},

		];

		var clearFlag = false;
		function onCheck(e, treeId, treeNode) {
			count();
			if (clearFlag) {
				clearCheckedOldNodes();
			}
		}
		function clearCheckedOldNodes() {
			var zTree = $.fn.zTree.getZTreeObj("common"),
			nodes = zTree.getChangeCheckedNodes();
			for (var i=0, l=nodes.length; i<l; i++) {
				nodes[i].checkedOld = nodes[i].checked;
			}
		}
		function count() {
			var zTree = $.fn.zTree.getZTreeObj("common"),
			checkCount = zTree.getCheckedNodes(true).length,
			nocheckCount = zTree.getCheckedNodes(false).length,
			changeCount = zTree.getChangeCheckedNodes().length;
			$("#checkCount").text(checkCount);
			$("#nocheckCount").text(nocheckCount);
			$("#changeCount").text(changeCount);

		}
		function createTree() {
			$.fn.zTree.init($("#common"), setting, zNodes);
			count();
			clearFlag = $("#last").attr("checked");
		}

		$(document).ready(function(){
			createTree();			
			$("#init").bind("change", createTree);
			$("#last").bind("change", createTree);
        });
        
        //========================
        var clearFlagall = false;
		function onCheckall(e, treeId, treeNode) {
			countall();
			if (clearFlagall) {
				clearCheckedOldNodes();
			}
		}
		function clearCheckedOldNodes() {
			var zTreeall = $.fn.zTree.getZTreeObj("all"),
			nodes = zTreeall.getChangeCheckedNodes();
			for (var i=0, l=nodes.length; i<l; i++) {
				nodes[i].checkedOld = nodes[i].checked;
			}
		}
		function countall() {
			var zTreeall = $.fn.zTree.getZTreeObj("all"),
			checkCountall = zTreeall.getCheckedNodes(true).length,
			nocheckCountall = zTreeall.getCheckedNodes(false).length,
			changeCountall = zTreeall.getChangeCheckedNodes().length;
			$("#checkCountall").text(checkCountall);
			$("#nocheckCountall").text(nocheckCountall);
			$("#changeCountall").text(changeCountall);

		}
		function createTreeall() {
			$.fn.zTree.init($("#all"), setting, zNodes);
			countall();
			clearFlagall = $("#lastall").attr("checked");
		}

		$(document).ready(function(){
			createTreeall();			
			$("#initall").bind("change", createTreeall);
			$("#lastall").bind("change", createTreeall);
        });
		
	</SCRIPT>
</head>
<body>
    <div class="am-g">
        <div class="header">
            <div class="headernav">
                <ul class="am-fr user-list">
                    <li><a href="#"> <span class="icon-user"></span>admin </a> </li>
                    <li><a href="#"><span class="icon-home"></span>主页</a> </li>
                </ul>
                <ul class="header-list am-fr">
                    <li class="active"><a href="#">查询定位</a></li>
                    <li><a href="#">行政区划</a></li>
                    <li><a href="#">专题图</a></li>
                    <li><a href="#">叠加分析</a></li>
                    <li><a href="#">对比分析</a></li>
                    <li><a href="#">查询统计</a></li>
                    <li><a href="#">合规审查</a></li>
                </ul>
            </div>
            <div class="sub-title">
                <ul class="am-fr tool-list">
                    <li><a href="#" ><i class="icon1"></i>放大 </a> </li>
                    <li><a href="#" ><i class="icon2"></i>缩小 </a> </li>
                    <li><a href="#" ><i class="icon3"></i>全图 </a> </li>
                    <li><a href="#" ><i class="icon4"></i>测距 </a> </li>
                    <li><a href="#" ><i class="icon5"></i>面积 </a> </li>
                    <li><a href="#" ><i class="icon6"></i>清除 </a> </li>
                    <li><a href="#" ><i class="icon7"></i>属性 </a> </li>
                </ul>
            </div>
            <div class="title">
                <h2>国土空间规划监测评估预警系统   </h2>
                <span><i class="img"><img src="images/img2.png" > </i> 一张图 </span>
            </div>
        </div>
        <div class="content">
            <div class="left-isder am-fl am-u-lg-4">
                <div class="am-tabs" data-am-tabs>
                    <ul class="am-tabs-nav am-nav am-nav-tabs">
                      <li class="am-active"><a href="#tab1">常用图层</a></li>
                      <li><a href="#tab2">所有图层</a></li>
                      <li><a href="#tab3">规划文本</a></li>
                    </ul>
                  
                    <div class="am-tabs-bd">
                        <div class="am-tab-panel am-fade am-in am-active" id="tab1">
                            <ul id="common" class="ztree"></ul>

                        </div>
                        <div class="am-tab-panel am-fade" id="tab2">
                            <ul id="all" class="ztree"></ul>
                        </div>
                        <div class="am-tab-panel am-fade" id="tab3">
                    
                        </div>
                       
                    </div>
                  </div>
            </div>

            <div class="contentinfo am-fl am-u-lg-8">
                <div class="mapcontent">
                    <!-- 定位 -->
                    <div class="layer-plant location">
                         <h2 class="layer-title">查询定位 <span></span> </h2>
                         <div class="search-bar">
                             <input type="text"  placeholder="输入地名、路名、规划单元、坐标值等"/>
                         </div>
                         <div class="serch-result" >
                             <p>查询结果分组显示</p>
                         </div>
                    </div>
                    <!-- 行政规划 -->
                    <div class="layer-plant plan">
                        <h2 class="layer-title">行政区划 <span></span> </h2>
                        <div class="search-bar">
                            <input type="text" class="text320"  placeholder="输入地名"/>
                            <input type="button" class="text96" value="定位">
                        </div>
                        <div class="city-item">
                            <div class="city-content">
                                <dt class="city-title">热门城市</dt>
                                <div class="cityinfo">
                                    <dd class="list-item active"><a href="#"  >桥东区</a></dd>
                                    <dd class="list-item"><a href="#" >桥西区</a></dd>
                                    <dd class="list-item"><a href="#" >宣化区</a></dd>
                                    <dd class="list-item"><a href="#" >下花园区</a></dd>
                                    <dd class="list-item"><a href="#" >崇礼区</a></dd>
                                    <dd class="list-item"><a href="#" >张北县</a></dd>
                                    <dd class="list-item"><a href="#" >康保县</a></dd>
                                    <dd class="list-item"><a href="#" >沽源县</a></dd>
                                    <dd class="list-item"><a href="#" >尚义县</a></dd>
                                    <dd class="list-item"><a href="#" >蔚    县</a></dd>
                                    <dd class="list-item"><a href="#" >阳原县</a></dd>
                                    <dd class="list-item"><a href="#" >怀安县</a></dd>
                                    <dd class="list-item"><a href="#" >怀来县</a></dd>
                                    <dd class="list-item"><a href="#" >涿鹿县赤城县</a></dd>
                                    <dd class="list-item"><a href="#" >察北管理区</a></dd>
                                    <dd class="list-item"><a href="#" >塞北管理区</a></dd>
                                </div>
                            </div>
                            <div class="city-content township">
                                    <dt class="city-title">乡镇村级</dt>
                                    <div class="townshipinfo">
                                       <dd class="list-item active"><a href="#"  >红旗楼街道办事处                     </a></dd>
                                       <dd class="list-item"><a href="#" >胜利北路街道办事处</a></dd>
                                       <dd class="list-item"><a href="#" >五一路街道办事处</a></dd>
                                       <dd class="list-item"><a href="#" >花园街街道办事处</a></dd>
                                       <dd class="list-item"><a href="#" >工业路街道办事处 </a></dd>
                                       <dd class="list-item"><a href="#" >姚家庄镇</a></dd>
                                       <dd class="list-item"><a href="#" >大仓盖镇</a></dd>
                                       <dd class="list-item"><a href="#" >东望山乡</a></dd>
                                       <dd class="list-item"><a href="#" >东望山乡</a></dd>
                                       <dd class="list-item"><a href="#" >东望山乡</a></dd>
                                       <dd class="list-item"><a href="#" >东望山乡</a></dd>
                                    </div>
                                </div>
                        </div>                                                 
                                             
                   </div>
                    <img src="images/map.jpg" >
                </div>
            </div>

        </div>
    </div>
    <script type="text/javascript" src="js/amazeui.min.js" ></script>
</body>
</html>